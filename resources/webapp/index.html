<html>
<head>
<title>R43ples - Revision Management for the Semantic Web</title>
<meta name="author" content="Markus Graube">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="icon" type="image/png" href="/static/images/r43ples-r-logo.png">

   <!-- Bootstrap -->
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">
    
    <link href="/static/css/r43ples.css" rel="stylesheet" />
<script src="/static/js/jquery-2.1.1.js"></script>
<script src="/static/js/jquery-ui.js"></script>
   <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="/static/js/bootstrap.min.js"></script>
    
<script type="text/javascript">
  $(function() {
	$(".accordion").accordion();
  	$(".accordion > h4").prepend("<button class='btn btn-sm copy'><span class='glyphicon glyphicon-new-window '></span></button> ");
  	$(".accordion > h4 > button").click(function() {
		$("#query").val($(this).parent().next().text());
  	});
  });
</script>
</head>
<body>
<div class="container">

	<div id="header" class="page-header">
		<h1>R43ples - Revision Management for the Semantic Web</h1>
	</div>

<div class="row">
<div class="col-md-8">
	<div id="query_form">
		<h2>Query Form</h2>
		<form action="/r43ples/sparql">
		<fieldset>
			<label for="query">Query Text</label><br />
			<textarea name="query" id="query" cols="80" rows="20">
SELECT * 
FROM &lt;http://test.com/r43ples-dataset&gt; REVISION "MASTER"
WHERE {
	?s ?p ?o. 
}
	  </textarea>
			<br /> 
			<label for="format">Results Format:</label>
			<select	name="format" id="name">
				<option value="text/html">HTML</option>
				<option value="application/rdf+xml">RDF/XML</option>
				<option value="text/turtle">Turtle</option>
				<option value="application/json">JSON</option>
			</select>
			<br />
			<br /> 
			<input type="submit" value="Run Query" />
			<input type="reset"	value="Reset" />
				</fieldset>
		</form>

		<h2>Revision Information</h2>
		<ul>
			<li><a href="createSampleDataset">Create sample data set</a></li>
			<li>
				<form action="revisiongraph" method="get">
					<select id="selectRevisedGraph" name="graph">%2$s</select>
					<select name="format">
						<option value="text/turtle">Turtle</option>
						<option value="text/html">Graphical</option>
					</select>
					<input type="submit" value="Get RevisionInformation" />
				</form>
			</li>
			<li>
				<form action="sparql" method="get">
					<select id="dropRevisedGraph" name="query">%3$s</select>
					<input type="submit" value="Drop Graph" />
				</form>
			</li>
		</ul>
	</div>
</div>

<div class="col-md-4">
	<div id="examples">
		<h2>Example queries</h2>
		<div class="accordion">
			<h4>Create Graph under Version Control</h4>
			<pre>
CREATE GRAPH &lt;http://test.com/r43ples-dataset&gt;
</pre>

			<h4>Select Query</h4>
			<pre>SELECT * 
FROM &lt;http://test.com/r43ples-dataset&gt; REVISION "3"
WHERE {
	?s ?p ?o. 
}</pre>

			<h4>Select Query - Multiple Graphs</h4>
			<pre>OPTION r43ples:SPARQL_JOIN
SELECT ?s ?p ?o 
FROM &lt;http://test.com/r43ples-dataset&gt; REVISION "MASTER"
FROM &lt;http://test.com/r43ples-dataset-2&gt; REVISION "2"
WHERE {
	?s ?p ?o. 
}</pre>

			<h4>Update Query</h4>
			<pre>USER "mgraube"
MESSAGE "test commit"
INSERT { GRAPH &lt;http://test.com/r43ples-dataset&gt; REVISION "4"
{	&lt;a&gt; &lt;b&gt; &lt;c&gt; .	}}</pre>

			<h4>Branching</h4>
			<pre>USER "mgraube"
MESSAGE "test commit"
BRANCH GRAPH &lt;http://test.com/r43ples-dataset&gt; REVISION "2" TO "unstable"</pre>

			<h4>Tagging</h4>
			<pre>USER "mgraube"
MESSAGE "test commit"
TAG GRAPH &lt;http://test.com/r43ples-dataset&gt; REVISION "2" TO "v0.3-alpha"</pre>
		</div>
	</div>
</div>
</div>

	<div id="footer" class="navbar-default navbar-fixed-bottom">
	<div class="container">
	<div class="span12">
		<p class="navbar-text navbar-center">2014 - Version %1$s</p>
		<p class="navbar-text logo"><a href="https://github.com/plt-tud/r43ples">R43ples@GitHub</a></p>
		<p class="navbar-text">powered by <a href="https://jersey.java.net/">Jersey</a></p>
	</div>
	</div>
	</div>

</div>
</body>
</html>